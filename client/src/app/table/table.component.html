<table>

  <tr>
    <th *ngIf="currentUser.squadron=='155'">הזמן</th>
    <th *ngIf="currentUser.squadron=='155'">כמות להזמנה</th>
    <th>שם מוצר</th>
    <th>קטגוריה</th>
    <th>תאריך הוספה</th>
    <th>מק"ט</th>
    <th>כמות</th>
    <th *ngIf="currentUser.squadron!='155'">מחיקה</th>
  </tr>

  <tr *ngFor="let i of orderedItems">

    <td *ngIf="currentUser.squadron=='155'">
      <input type="checkbox" value="{{i._id}}" (change)="clickOnCheck(i)">
    </td>

    <td  *ngIf="currentUser.squadron=='155'">
      <select *ngIf="i.itemCount>0" name="itemCount">
        <option *ngFor="let n of getArrayOfNumbers(i.itemCount)" value="{{n}}">{{n}}
        </option>
      </select>
    </td>

    <td>{{i.itemName}}</td>
    <td>{{i.itemCategory}}</td>
    <td>{{i.dateAdded|date:'dd/MM/yyyy'}}</td>
    <td>{{i.itemMakat}}</td>


    <td *ngIf="currentUser.squadron=='155'">{{i.itemCount}}</td>

    <td *ngIf="currentUser.squadron!='155'">
      <input type="number" *ngIf="!i.itemMakat" [value]="i.itemCount" min="0" required (input)="i.itemCount = $event.target.value">
      <button *ngIf="!i.itemMakat" (click)="saveItemCount(i)">שמור</button>
    </td>


    <td *ngIf="currentUser.squadron!='155'">
      <button (click)="deleteItem(i)">X</button>
    </td>

  </tr>

</table>

<br>
<div class="moveRight" *ngIf="currentUser.squadron=='155'">

  <p>תאריך איסוף</p>
  <input type="date" (input)="fDate = $event.target.value">

  <p>תאריך החזרה</p>
  <input type="date" (input)="tDate = $event.target.value">

  <p>הערות</p>
  <textarea class="comments" type="text" (input)="comments = $event.target.value"></textarea>
</div>

<button class="moveRight" *ngIf="currentUser.squadron=='155'" (click)="createNewRequest()">שלח בקשה</button>

